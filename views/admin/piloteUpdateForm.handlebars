<div class="mycenter">

  <h1>Modifier un pilote</h1>

  <form action="#" method="post">
    <p>
      <label for="pilprenom">Prenom</label>
      <br/>
      <input type="text" name="pilprenom" value="{{pilote.pilprenom}}" id="pilprenom" required>
    </p>

    <p>
      <label for="pilnom">Nom</label>
      <br/>
      <input type="text" name="pilnom" id="pilnom" value="{{pilote.pilnom}}" required>
    </p>

    <p>
      <label for="pildatenais">Date de naissance</label>
      <br/>
      <input type="text" class="datepicker" name="pildatenais" value="{{formatDate pilote.pildatenais 'DD/MM/YYYY'}}" id="pildatenais" placeholder="dd/mm/yyyy" pattern="(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}" required>
    </p>

    <p>
      <label for="paynum">Nationalité</label>
      <br/>
      <select id="paynum" name="paynum">
        {{#each nationalites}}
          {{#ifCond ../pilote.paynum '==' this.paynum}}
            <option value="{{this.paynum}}" selected="selected">{{this.paynat}}</option>
          {{/ifCond}}
          {{#ifCond ../pilote.paynum '!=' this.paynum}}
            <option value="{{this.paynum}}">{{this.paynat}}</option>
          {{/ifCond}}
        {{/each}}
      </select>
    </p>

    <p>
      <label for="ecunum">Ecurie</label>
      <br/>
      <select id="ecunum" name="ecunum">
        {{#each ecuries}}
          {{#ifCond ../pilote.ecunum '==' this.ecunum}}
            <option value="{{this.ecunum}}" selected="selected">{{this.ecunom}}</option>
          {{/ifCond}}
          {{#ifCond ../pilote.ecunum '!=' this.ecunum}}
            <option value="{{this.ecunum}}">{{this.ecunom}}</option>
          {{/ifCond}}
        {{/each}}
      </select>
    </p>

    <p>
      <label for="pilpoints">Points</label>
      <br/>
      <input type="text" name="pilpoints" id="pilpoints" value="{{pilote.pilpoints}}" required>
    </p>

    <p>
      <label for="pilpoids">Poids</label>
      <br/>
      <input type="text" name="pilpoids" id="pilpoids" value="{{pilote.pilpoids}}" required>
    </p>

    <p>
      <label for="piltaille">Taille</label>
      <br/>
      <input type="text" name="piltaille" id="piltaille" value="{{pilote.piltaille}}" required>
    </p>

    <p>
      <label for="piltexte">Description</label>
      <br/>
      <textarea name="piltexte" id="piltexte" rows="8" cols="40" required>{{pilote.piltexte}}</textarea>
    </p>

    <input type="hidden" name="pilnum" value="{{pilote.pilnum}}">

    <input type="submit" value="Modifier">

    <script>
      $(function() {
        $(".datepicker").datepicker();
      });
      (function(factory) {
        if (typeof define === "function" && define.amd) {
          define(["../jquery.ui.datepicker"], factory);
        } else {
          factory(jQuery.datepicker);
        }
      }(function(datepicker) {
        datepicker.regional['fr'] = {
          closeText: 'Fermer',
          prevText: 'Précédent',
          nextText: 'Suivant',
          currentText: 'Aujourd\'hui',
          monthNames: ['janvier', 'février', 'mars', 'avril', 'mai', 'juin',
            'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'
          ],
          monthNamesShort: ['janv.', 'févr.', 'mars', 'avril', 'mai', 'juin',
            'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.'
          ],
          dayNames: ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
          dayNamesShort: ['dim.', 'lun.', 'mar.', 'mer.', 'jeu.', 'ven.', 'sam.'],
          dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
          weekHeader: 'Sem.',
          dateFormat: 'dd/mm/yy',
          firstDay: 1,
          isRTL: false,
          showMonthAfterYear: false,
          yearSuffix: ''
        };
        datepicker.setDefaults(datepicker.regional['fr']);

        return datepicker.regional['fr'];

      }));
    </script>
  </form>

</div>
